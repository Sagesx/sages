<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokémon Masters EX Battle Info</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Pokémon Masters Event & Battle Challenges Info</h1>
    <p>Search and explore data from past boss battles</p>
  </header>
  <section class="details-section">
    <h1 id="title">Text</h1>
    <h4>Completion Missions:</h4>
    <ul id="missions">
      <li>data</li>
      <li>data</li>
    </ul>
    <h4>Schedule:</h4>
    <ul id="schedule">
      <li>data</li>
      <li>data</li>
    </ul>
    <div class="opponents">
      <!--
      ////////////////////////////////////////////////////////////////////////////////
                  LEFT OPPONENT   LEFT OPPONENT   LEFT OPPONENT
      ////////////////////////////////////////////////////////////////////////////////
      -->     
      <div id="opp_left-type">
        <div class="container">
          <img class="circular-square shrink shade" src="images/trainer/npc/Scientist.png">
          <h2 id="name" class="syncpairtitle">Character & Pokemon</h2>
          <img class="circular-square shrinkhalf shade" src="images/pokemon/00601.png">
        </div>
        <div class="container">
          <table class="stat-table">
            <tr><td>Stat</td><td>Value</td><td>Mitigation</td></tr>
            <tr><td>HP</td><td id="opp_left-hp">???</td><td>-</td></tr>
            <tr><td>Attack</td><td id="opp_left-atk">???</td><td id="opp_left-atk-mit">?</td></tr>
            <tr><td>Defense</td><td id="opp_left-def">???</td><td id="opp_left-def-mit">?</td></tr>
            <tr><td>Sp.Atk</td><td id="opp_left-spa">???</td><td id="opp_left-spa-mit">?</td></tr>
            <tr><td>Sp. Def</td><td id="opp_left-spd">???</td><td id="opp_left-spd-mit">?</td></tr>
            <tr><td>Speed</td><td id="opp_left-spe">???</td><td id="opp_left-spe-mit">?</td></tr>
            <tr><td>Accuracy</td><td>-</td><td>0</td></tr>
            <tr><td>Evasion</td><td>-</td><td>0</td></tr>
          </table>
          <table class="rules-table">
            <tr class="bg-type-fight"><td colspan="2">Weakness</td><td><img class="shade" src="images/types/32px/fighting.png"></td></tr>
            <tr><td><img height="32px" src="images/status/conditionnull.png"></td><td>Resilience</td><td class="emoji">❌</td></tr>
            <tr><td><img height="32px" src="images//status/nododge.png"></td><td>Sure Hit</td><td class="emoji">❌</td></tr>
          </table>
        </div>
        <table class="status-table">
          <tr><td colspan="8" style="background: #888b85";>Status Effect Mitigation</td></tr>
          <tr>
            <td><img src="images/status/poison.png" width="75%"></td>
            <td><img src="images/status/burn.png" width="75%"></td>
            <td><img src="images/status/paralyze.png" width="75%"></td>
            <td><img src="images/status/freeze.png" width="75%"></td>
            <td><img src="images/status/sleep.png" width="75%"></td>
            <td><img src="images/status/confuse.png" width="75%"></td>
            <td><img src="images/status/flinch.png" width="75%"></td>
            <td><img src="images/status/trap.png" width="75%"></td>
          </tr>
          <tr>
            <td id="opp_left-poison">0</td>
            <td id="opp_left-burn">0</td>
            <td id="opp_left-paralyze">0</td>
            <td id="opp_left-freeze">0</td>
            <td id="opp_left-sleep">0</td>
            <td id="opp_left-confuse">0</td>
            <td id="opp_left-flinch">0</td>
            <td id="opp_left-trap">0</td>
          </tr>
        </table>
        <strong class="syncpairtitle" style="font-size: 1.5em;">Moves</strong>
        <div class="scrollable-box">
          <p id="opp_left-moves" class="plist">Text</p>
        </div>
        <strong class="syncpairtitle" style="font-size: 1.5em;">Skills</strong>
        <div class="scrollable-box">
            <p id="opp_left_skills" class="plist">Text</p>
      </div>
    </div>
      <!--
      ////////////////////////////////////////////////////////////////////////////////
                  CENTER OPPONENT   CENTER OPPONENT   CENTER OPPONENT
      ////////////////////////////////////////////////////////////////////////////////
      -->
      <div class="opponent-card bg-type-steel">
        <div class="container">
          <img class="circular-square shrink shade" src="images/trainer/galar/rose.png"> 
          <h2 class="syncpairtitle">Rose & Copperajah</h2>
          <img class="circular-square shrinkhalf shade" src="images/pokemon/00879.png">
        </div> 
        <div class="container">
          <table class="stat-table">
            <tr><td>Stat</td><td>Value</td><td>Mitigation</td></tr>
            <tr><td>HP</td><td>30,800</td><td>-</td></tr>
            <tr><td>Attack</td><td>1,382</td><td>5</td></tr>
            <tr><td>Defense</td><td><span class="highlighttext">166</span></td><td>5</td></tr>
            <tr><td>Sp.Atk</td><td>1,382</td><td>5</td></tr>
            <tr><td>Sp. Def</td><td>83</td><td>5</td></tr>
            <tr><td>Speed</td><td>67</td><td>5</td></tr>
            <tr><td>Accuracy</td><td>-</td><td>5</td></tr>
            <tr><td>Evasion</td><td>-</td><td>5</td></tr>
          </table>
          <table class="rules-table">
            <tr class="bg-type-fight"><td colspan="2">Weakness</td><td><img class="shade" src="images/types/32px/fighting.png"></td></tr>
            <tr><td><img height="32px" src="images/status/conditionnull.png"></td><td>Resilience</td><td class="emoji">❌</td></tr>
            <tr><td><img height="32px" src="images//status/nododge.png"></td><td>Sure Hit</td><td class="emoji">❌</td></tr>
          </table>
        </div>
        <table class="status-table">
          <tr><td colspan="8" style="background: #888b85";>Status Effect Mitigation</td></tr>
          <tr>
            <td><img src="images/status/poison.png" width="75%"></td>
            <td><img src="images/status/burn.png" width="75%"></td>
            <td><img src="images/status/paralyze.png" width="75%"></td>
            <td><img src="images/status/freeze.png" width="75%"></td>
            <td><img src="images/status/sleep.png" width="75%"></td>
            <td><img src="images/status/confuse.png" width="75%"></td>
            <td><img src="images/status/flinch.png" width="75%"></td>
            <td><img src="images/status/trap.png" width="75%"></td>
          </tr>
          <tr>
            <td>9</td>
            <td>9</td>
            <td>8</td>
            <td>8</td>
            <td>8</td>
            <td>8</td>
            <td>8</td>
            <td>9</td>
          </tr>
        </table>
        <strong class="syncpairtitle" style="font-size: 1.5em;">Moves</strong>
        <div class="scrollable-box">
          <p class="plist">Earthquake
                           Snarl (Uses 1)
	                         Iron Head
	                         X Sp. Def All (Uses 1)
	                         Bulldoze (Uses 1)
	                         X Attack All (Uses 1)
	                         Millennium from Now Steel Impact</p>
        </div>
        <strong class="syncpairtitle" style="font-size: 1.5em;">Skills</strong>
        <div class="scrollable-box">
            <p class="plist"><span class="highlighttext">Tough Skin 4</span>
	              <span class="highlighttext">Sentry Entry ×2</span>
	              <span class="highlighttext">Discombobulate 9</span>
	              Dizzying Power
	              Obscuring Sync 5
	              Take Hit: Opp Speed ↓2 9
	              Hunter’s Instinct
	              Slo-pponent Sync 5
	              Pinpoint Entry 1
	              <span class="highlighttext">Ripple Effect 9</span>
                Mind's Eye 5
                Nimble Footed 5
                All DF Resistance 9</p>
      </div>
      <!--
      ////////////////////////////////////////////////////////////////////////////////
                  RIGHT OPPONENT   RIGHT OPPONENT   RIGHT OPPONENT
      ////////////////////////////////////////////////////////////////////////////////
      -->      
     </div>
      <div class="opponent-card bg-type-steel">
        <div class="container">
          <img class="circular-square shrink shade" src="images/trainer/npc/Collector.png">
          <h2 class="syncpairtitle">Collector & Perrserker</h2>
          <img class="circular-square shrinkhalf shade" src="images/pokemon/00863.png">
        </div>
        <div class="container">
            <table class="stat-table">
              <tr><td>Stat</td><td>Value</td><td>Mitigation</td></tr>
              <tr><td>HP</td><td>19,250</td><td>-</td></tr>
              <tr><td>Attack</td><td>1,382</td><td>0</td></tr>
              <tr><td>Defense</td><td>83</td><td>0</td></tr>
              <tr><td>Sp.Atk</td><td>1,382</td><td>0</td></tr>
              <tr><td>Sp. Def</td><td>83</td><td>0</td></tr>
              <tr><td>Speed</td><td>204</td><td>0</td></tr>
              <tr><td>Accuracy</td><td>-</td><td>0</td></tr>
              <tr><td>Evasion</td><td>-</td><td>0</td></tr>
            </table>
            <table class="rules-table">
            <tr class="bg-type-fight"><td colspan="2">Weakness</td><td><img class="shade" src="images/types/32px/fighting.png"></td></tr>
            <tr><td><img height="32px" src="images/status/conditionnull.png"></td><td>Resilience</td><td class="emoji">❌</td></tr>
            <tr><td><img height="32px" src="images//status/nododge.png"></td><td>Sure Hit</td><td class="emoji">❌</td></tr>
            </table>
        </div>
            <table class="status-table">
              <tr><td colspan="8" style="background: #888b85";>Status Effect Mitigation</td></tr>
              <tr>
                <td><img src="images/status/poison.png" width="75%"></td>
                <td><img src="images/status/burn.png" width="75%"></td>
                <td><img src="images/status/paralyze.png" width="75%"></td>
                <td><img src="images/status/freeze.png" width="75%"></td>
                <td><img src="images/status/sleep.png" width="75%"></td>
                <td><img src="images/status/confuse.png" width="75%"></td>
                <td><img src="images/status/flinch.png" width="75%"></td>
                <td><img src="images/status/trap.png" width="75%"></td>
              </tr>
              <tr>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
              </tr>
            </table>
        <strong class="syncpairtitle" style="font-size: 1.5em;">Moves</strong>
        <div class="scrollable-box">
          <p class="plist">Night Slash
            Hyper Voice (Uses 1)
            X Defense All (Uses 1)
            Giga Impact</p>
        </div>
        <strong class="syncpairtitle" style="font-size: 1.5em;">Skills</strong>
        <div class="scrollable-box">
          <p class="plist"><span class="highlighttext">Tough Skin 4</span>
            Dizzying Power
            Hunter's Instinct</p>
        </div>
      </div>
    </div>
  </section>
</body>

<script>
  async function fillData() {
    try {
      const response = await fetch("test.json");
      const data = await response.json();

// Helper to render highlightable fields
function renderHighlightable(value) {
  if (typeof value === "object" && value !== null && value.highlight) {
    return `<span class="highlighttext">${value.text}</span>`;
  }
  return typeof value === "object" && value !== null ? value.text : value;
}

// Title & Info
document.getElementById("title").textContent = data.title;
document.getElementById("missions").innerHTML = data.missions
  .map((mission) => `<li>${mission}</li>`)
  .join("");
document.getElementById("schedule").innerHTML = data.schedule
  .map((schedule) => `<li>${schedule}</li>`)
  .join("");
document.getElementById("name").textContent = data.opp_left.name;
document.getElementById("opp_left-type").className = `opponent-card bg-type-${data.opp_left.type}`;

// Stats
document.getElementById("opp_left-hp").innerHTML = renderHighlightable(data.opp_left.hp);
document.getElementById("opp_left-atk").innerHTML = renderHighlightable(data.opp_left.atk);
document.getElementById("opp_left-def").innerHTML = renderHighlightable(data.opp_left.def);
document.getElementById("opp_left-spa").innerHTML = renderHighlightable(data.opp_left.spa);
document.getElementById("opp_left-spd").innerHTML = renderHighlightable(data.opp_left.spd);
document.getElementById("opp_left-spe").innerHTML = renderHighlightable(data.opp_left.spe);

// Mitigations
document.getElementById("opp_left-atk-mit").innerHTML = renderHighlightable(data.opp_left.atk_mit);
document.getElementById("opp_left-def-mit").innerHTML = renderHighlightable(data.opp_left.def_mit); 
document.getElementById("opp_left-spa-mit").innerHTML = renderHighlightable(data.opp_left.spa_mit);
document.getElementById("opp_left-spd-mit").innerHTML = renderHighlightable(data.opp_left.spd_mit);
document.getElementById("opp_left-spe-mit").innerHTML = renderHighlightable(data.opp_left.spe_mit);

// Status
document.getElementById("opp_left-poison").innerHTML = renderHighlightable(data.opp_left.poison);
document.getElementById("opp_left-burn").innerHTML = renderHighlightable(data.opp_left.burn);
document.getElementById("opp_left-paralyze").innerHTML = renderHighlightable(data.opp_left.paralyze);
document.getElementById("opp_left-freeze").innerHTML = renderHighlightable(data.opp_left.freeze);
document.getElementById("opp_left-sleep").innerHTML = renderHighlightable(data.opp_left.sleep);
document.getElementById("opp_left-confuse").innerHTML = renderHighlightable(data.opp_left.confuse);
document.getElementById("opp_left-flinch").innerHTML = renderHighlightable(data.opp_left.flinch);
document.getElementById("opp_left-trap").innerHTML = renderHighlightable(data.opp_left.trap);

// Moves
document.getElementById("opp_left-moves").innerHTML = data.opp_left.moves
  .map(renderHighlightable)
  .join('<br>');

// Skills
document.getElementById("opp_left_skills").innerHTML = data.opp_left.skills
  .map(renderHighlightable)
  .join('<br>');
      
    } catch (error) {
      console.error("Failed to load stat data:", error);
    }
  }

  fillData();

</script>

</html>